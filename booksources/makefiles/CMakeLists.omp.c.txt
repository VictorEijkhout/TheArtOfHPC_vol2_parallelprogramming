cmake_minimum_required( VERSION 3.20 )
project( ${PROJECTNAME} VERSION 1.0 )

find_package(OpenMP)
if(OpenMP_C_FOUND)
else()
	message( FATAL_ERROR "Could not find OpenMP" )
endif()

add_executable( ${PROJECTNAME} ${PROJECTNAME}.c )
target_compile_features( ${PROJECTNAME} PRIVATE c_std_99 )
target_link_libraries( ${PROJECTNAME} PUBLIC OpenMP::OpenMP_C )

# some compilers (Intel) need this explicitly:
target_link_libraries( ${PROJECTNAME} PRIVATE m)

install( TARGETS ${PROJECTNAME} DESTINATION . )
