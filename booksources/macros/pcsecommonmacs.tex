% -*- latex -*-
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%
%%%% This LaTeX file is part of the source of 
%%%% `Parallel Computing'
%%%% by Victor Eijkhout, copyright 2012-2024
%%%%
%%%% pcsecommonmacs.tex : common macros for book and slides and all
%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% custom arrays and tables
\usepackage{amsmath}
\usepackage{array,booktabs,multirow,multicol}
\newcolumntype{R}{>{\hbox to 1.2em\bgroup\hss}{r}<{\egroup}}
\newcolumntype{T}{>{\hbox to 8em\bgroup}{c}<{\hss\egroup}}
\newcolumntype{L}{>{\hbox to 20pt \bgroup$}{l}<{$\hss\egroup}}

%%%%
%%%% jordan stuff
%%%%
\newenvironment{jordan}
{
  \begin{equation*}
    \begin{array}{|RRR|r|R|T|L|}
      \hline
      \multicolumn{3}{|c|}{\hbox{matrix}}&\hbox{sol}&rhs&action&scaling\\
      \hline
}
{
      \hline
    \end{array}
  \end{equation*}
}

%%%%
%%%% algorithms
%%%%

\usepackage[algo2e,noline,noend]{algorithm2e}
\newenvironment{displayalgorithm}
 {\begin{algorithm2e}[H]\leftskip=\unitindent \DontPrintSemicolon
  \SetKwInOut{Input}{Input}\SetKwInOut{Output}{Output}
 }
 {\end{algorithm2e}}
\newenvironment{displayprocedure}[2]
 {\everymath{\strut}
  \begin{procedure}[H]\leftskip=\unitindent\caption{#1(#2)}}
 {\end{procedure}}

%%%%
%%%% Stuff
%%%%
\newcommand\mpiparmtextsize{1.3in}

\newenvironment
    {mplimpl}
    {\begin{quotation}\textsl{Implementation note:}\ }
    {\end{quotation}}

\newenvironment{raggedlist}{\begingroup\rightskip=0pt plus 2in}{\par\endgroup}
    
